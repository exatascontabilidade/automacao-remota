<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Disparar Rob√¥</title>
</head>
<body>
  <h1>üöÄ Disparar Rob√¥ Remotamente</h1>
  <button onclick="disparar()">Executar Rob√¥</button>
  <p id="status"></p>

  <script>
    async function disparar() {
      // O endpoint correto, conforme a mensagem da sua API, √© com /executar
      const endpoint = "https://automacao-remota.onrender.com/executar";
      const statusEl = document.getElementById("status");

      // Dados que ser√£o enviados para a API
      const dados = {
        serviceId: "srv-d1vs5rbipnbc73fa8jqg"
      };

      try {
        statusEl.innerText = "‚è≥ Disparando rob√¥...";
        
        const res = await fetch(endpoint, {
          method: "POST",
          // Adiciona o cabe√ßalho para indicar que estamos enviando JSON
          headers: {
            "Content-Type": "application/json"
          },
          // Converte o objeto JavaScript em uma string JSON e envia no corpo da requisi√ß√£o
          body: JSON.stringify(dados)
        });

        const data = await res.json();

        if (data.success) {
          statusEl.innerText = "‚úÖ Rob√¥ executado com sucesso!";
        } else {
          // Usa a mensagem de erro da API, se dispon√≠vel
          statusEl.innerText = `‚ùå Falha ao executar rob√¥: ${data.error || 'Erro desconhecido.'}`;
          console.error("Erro da API:", data.error);
        }
      } catch (error) {
        statusEl.innerText = "‚ùå Erro inesperado na comunica√ß√£o.";
        console.error("Erro geral:", error);
      }
    }
  </script>
</body>
</html>
